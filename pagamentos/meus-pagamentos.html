<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formas de Pagamento</title>
    <link rel="stylesheet" href="meus-pagamentos.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body>
    <header>
        <div class="logo-e-nome">
            <i class="bi bi-xbox"></i>
            <span>PASSE PIRATA</span>
        </div>
        <a class="logx" href="Log out">SAIR</a>
    </header>

    <section class="conteudo">
        <div class="pagamentos-container">
            <h2>Minhas Formas de Pagamento</h2>

            <!-- Lista de Formas de Pagamento -->
            <div class="lista-pagamentos">
                <h3>Formas Cadastradas:</h3>
                <div class="cartoes-container"></div>
            </div>


            <!-- Formulário para Cadastrar Nova Forma de Pagamento -->
            <div class="cadastrar-pagamento">
                <h3>Cadastrar Nova Forma de Pagamento</h3>
                <form id="formPagamento" onsubmit="adicionarPagamento(event)">
                    <div class="form-group">
                        <label for="tipoCartao">Tipo:</label>
                        <select id="tipoCartao" required>
                            <option value="">Selecione</option>
                            <option value="Crédito">Crédito</option>
                            <option value="Débito">Débito</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="nomeCartao">Nome no Cartão:</label>
                        <input type="text" id="nomeCartao" placeholder="Nome impresso no cartão" required>
                    </div>
                    <div class="form-group">
                        <label for="numeroCartao">Número do Cartão:</label>
                        <input type="text" id="numeroCartao" placeholder="XXXX-XXXX-XXXX-XXXX" required maxlength="16">
                    </div>
                    <div class="form-group">
                        <label for="validadeCartao">Validade:</label>
                        <input type="month" id="validadeCartao" required>
                    </div>
                    <div class="form-group">
                        <label for="cvvCartao">CVV:</label>
                        <input type="password" id="cvvCartao" placeholder="123" required maxlength="3">
                    </div>
                    <button type="submit">Cadastrar</button>
                </form>
            </div>
        </div>
    </section>

    <nav class="menu-lateral">
        <ul>
            <li class="menu-item">
                <a href="#">
                    <span class="menu-icon"><i class="bi bi-controller"></i></span>
                    <span class="txt-link">Página Inicial</span>
                </a>
            </li>
            <hr>
            <li class="menu-item">
                <a href="#">
                    <span class="menu-icon"><i class="bi bi-person-circle"></i></span>
                    <span class="txt-link">Meu Perfil</span>
                </a>
            </li>
            <hr>
            <li class="menu-item">
                <a href="#">
                    <span class="menu-icon"><i class="bi bi-people-fill"></i></span>
                    <span class="txt-link">Amigos</span>
                </a>
            </li>
            <hr>
            <li class="menu-item">
                <a href="#">
                    <span class="menu-icon"><i class="bi bi-gem"></i></span>
                    <span class="txt-link">Planos</span>
                </a>
            </li>
            <hr>
            <li class="menu-item">
                <a href="#">
                    <span class="menu-icon"><i class="bi bi-piggy-bank"></i></span>
                    <span class="txt-link">Meus Pagamentos</span>
                </a>
            </li>
        </ul>
    </nav>

    <script>
        // Função para adicionar um cartão de pagamento
        function adicionarPagamento(event) {
            event.preventDefault();
            const tipo = document.getElementById("tipoCartao").value;
            const nome = document.getElementById("nomeCartao").value;
            const numero = document.getElementById("numeroCartao").value.slice(-4); // Últimos 4 dígitos
            const validade = document.getElementById("validadeCartao").value;

            const container = document.querySelector(".cartoes-container");

            // Cria o elemento do cartão
            const cartao = document.createElement("div");
            cartao.classList.add("cartao");
            cartao.innerHTML = `
         <div class="cartao-detalhes">
            <span class="cartao-tipo">
                ${tipo} <i class="bi bi-credit-card-2-front-fill"></i> 
            </span>
        </div>
        <span class="cartao-nome">${nome}</span>
        <span class="cartao-numero">****-****-****-${numero}</span>
        <span class="cartao-validade">Validade: ${validade}</span>
        <button class="btn-remover" onclick="removerPagamento(this)">Remover</button>
    `;

            // Adiciona ao container
            container.appendChild(cartao);

            // Limpa o formulário
            document.getElementById("formPagamento").reset();
        }

        // Função para remover um cartão de pagamento
        function removerPagamento(botao) {
            botao.closest(".cartao").remove();
        }

    </script>
</body>

</html>